# TRENDING PARSER

Express application for parsing github trends and storing them in database

## Installation

1. clone repository from gh
2. `npm i` to install dependencies
3. `npm run watch-ts` to start server in dev mode
4. `docker-compose up` to start conteiners in dev mode

## Endpoints

> POST - /api/v1/parser - Парсит с сайта трендов гитхаба репозитории, сохраняет в базу данных

> GET - /api/v1/parser - Возвращет с базы последнию версию трендов

> GET - /api/v1/parser?version={version} - Возвращает с базы заданную версию трендов. если такой в базе не существует, то вернет последнюю версию.

## Desc

В данной реализации структура данных представляет собой связь между трендами и сущностью парсинга. Эта сущность представляет собой что-то общее для всех трендов, полученных за один раз, также можно определить как результат проведенного парсинга. Сам парсинг реализован через либу Cheerio (которая как мне кажется блокирует евент луп). Также стоит упомянуть версирование трендов, что парсятся. Версия - это инкрементированное значение, каждый новый парсинг это новая версия этих трендов, тренды можно получить по версии, либо посмотреть последние полученные.

А данном репозитории есть возможность запустить сервер только в дев моде, так как я не прописывал конфиги для продакшена. Можно также запустить без докера, но для этого нужно сделать базу на локальноый машине -> прописать .env file в корне проекта, согласно конфигам из docker-compose file.
